(this["webpackJsonpmovie-rec-app"]=this["webpackJsonpmovie-rec-app"]||[]).push([[0],{109:function(e,t,a){},111:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(14),s=a.n(c),o=(a(109),a(16)),i=a.n(o),l=a(28),u=a(21),b=a(13),j=a(168),d=a(84),p=a(184),m=(a(111),a(187)),h=a(183),g=a(171),x=a(185),O=a(172),f=a(186),v=a(83),y=a.n(v),w=a(188),k=a(198),S=a(192),D=a(120),C=a(78),M=a.n(C),R=a(2);function B(e){var t=n.a.useState(!1),a=Object(b.a)(t,2),c=a[0],s=a[1];Object(r.useEffect)((function(){return e.errors.length>0&&s(!0)}),[e.errors]);var o=function(e,t){"clickaway"!==t&&s(!1)};return Object(R.jsx)(S.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:c,autoHideDuration:6e3,onClose:o,message:"Movie not found: "+e.errors,action:Object(R.jsx)(D.a,{size:"small","aria-label":"close",color:"inherit",onClick:o,children:Object(R.jsx)(M.a,{fontSize:"small"})})})}var N=a(189),P=a(167);function T(e){return Object(R.jsxs)(N.a,{value:e.browsing?1:0,indicatorColor:"primary",textColor:"primary",centered:!0,onChange:function(t,a){return e.setBrowsing(!e.browsing)},"aria-label":"disabled tabs example",children:[Object(R.jsx)(P.a,{label:"Search"}),Object(R.jsx)(P.a,{label:"Browse"})]})}var I=a(169),U=a(170),A=a(173),E=a(64),F=a.n(E),L=a(75),W=a(193),q=a(67),G=Object(j.a)({avatar:{backgroundColor:q.a[100],color:q.a[600]},root:{maxWidth:853,overflowY:"scroll"}}),z=function(e,t){return 1==t&&10==e||100==e?"#3a5ad1":1==t&&e>7.5||e>85?"#31b830":1==t&&e>6||e>70?"orange":"#FF6962"};function Z(e){var t=z(e.movieData.googleUsersPercent,!1),a=z(e.movieData.imdbRating,!0),n=z(e.movieData.rottenTomatoesRating,!1),c=G(),s=e.onClose,o=e.selectedValue,u=e.open,j=function(){var t=Object(l.a)(i.a.mark((function t(){var a,r,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=u){t.next=9;break}return a="https://api.themoviedb.org/3/search/movie?api_key=".concat("210fc31dd8bed65f0aaba2bf322a7627","&language=en-US&query=").concat(e.movieData.title,"&page=1"),t.next=4,fetch(a);case 4:return r=t.sent,t.next=7,r.json();case 7:(n=t.sent).results[0]&&f(n.results[0].overview);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=Object(l.a)(i.a.mark((function t(){var a,r,n,c,s,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=u){t.next=18;break}return C(!0),k(null),a=new DOMParser,r="https://www.google.com/search?q="+encodeURIComponent(e.movieData.title).replace(/%20/g,"+")+"+trailer&tbm=vid",console.log(r),t.next=8,fetch(r);case 8:return n=t.sent,t.next=11,n.text();case 11:return c=t.sent,s=a.parseFromString(c,"text/html"),t.next=15,p(s);case 15:o=t.sent,k(o),setTimeout((function(){return C(!1)}),200);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null!=(a=t.getElementsByClassName("rGhul IHSDrd").length>0?t.getElementsByClassName("rGhul IHSDrd")[0].getAttribute("href"):null)&&(a="https://www.youtube.com/embed/"+a.split("v=")[1]),e.abrupt("return",a);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)(j,[u]),Object(r.useEffect)(d,[u]);var m=Object(r.useState)(null),h=Object(b.a)(m,2),x=h[0],f=h[1],v=Object(r.useState)(null),y=Object(b.a)(v,2),w=y[0],k=y[1],S=Object(r.useState)(!1),D=Object(b.a)(S,2),C=(D[0],D[1]);return Object(R.jsxs)(W.a,{onClose:function(){s(o)},"aria-labelledby":"simple-dialog-title",open:u,maxWidth:"lg",children:[Object(R.jsx)("iframe",{width:"853",height:"480",style:{maxWidth:"100%"},frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen;",src:w}),Object(R.jsx)(I.a,{className:c.root,children:Object(R.jsxs)(U.a,{children:[Object(R.jsx)(L.a,{variant:"h5",component:"h2",children:"Summary"}),Object(R.jsx)("hr",{}),Object(R.jsx)(L.a,{variant:"body1",component:"p",color:"textSecondary",children:x}),Object(R.jsx)(g.a,{maxWidth:"sm",children:Object(R.jsxs)(O.a,{container:!0,spacing:2,style:{marginTop:"1em",marginBottom:"1em"},children:[Object(R.jsx)(O.a,{item:!0,xs:4,style:{textAlign:"center"},children:Object(R.jsxs)("span",{style:{color:t},children:[e.movieData.googleUsersPercent,"%",Object(R.jsx)("br",{}),"Google Users"]})}),Object(R.jsx)(O.a,{item:!0,xs:4,style:{textAlign:"center"},children:Object(R.jsxs)("span",{style:{color:a},children:[e.movieData.imdbRating,"/10",Object(R.jsx)("br",{}),"IMDb"]})}),Object(R.jsx)(O.a,{item:!0,xs:4,style:{textAlign:"center"},children:Object(R.jsxs)("span",{style:{color:n},children:[e.movieData.rottenTomatoesRating,"%",Object(R.jsx)("br",{}),"Rotten Tomatoes"]})})]})}),Object(R.jsx)("hr",{}),Object(R.jsx)(L.a,{variant:"h6",component:"h2",children:"Other Information"}),Object(R.jsxs)(O.a,{container:!0,spacing:2,style:{marginTop:"1em",marginBottom:"1em"},children:[Object(R.jsxs)(O.a,{item:!0,xs:6,children:[Object(R.jsxs)(L.a,{className:c.pos,color:"textSecondary",children:["Rating: ",e.movieData.metadata.rating]}),Object(R.jsxs)(L.a,{className:c.pos,color:"textSecondary",children:["Release Date: ",e.movieData.metadata.year]})]}),Object(R.jsxs)(O.a,{item:!0,xs:6,children:[Object(R.jsxs)(L.a,{className:c.pos,color:"textSecondary",children:["Genre: ",e.movieData.metadata.genre]}),Object(R.jsxs)(L.a,{className:c.pos,color:"textSecondary",children:["Duration: ",e.movieData.metadata.duration]})]})]})]})})]})}var J=Object(j.a)({root:{minWidth:400},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),_=function(e,t){return 1==t&&10==e||100==e?"#3a5ad1":1==t&&e>7.5||e>85?"#31b830":1==t&&e>6||e>70?"orange":"#FF6962"};function H(e){var t=J(),a=(t.bullet,e.movieData.imageUrl||"https://popcornusa.s3.amazonaws.com/placeholder-movieimage.png"),c=_(e.movieData.googleUsersPercent,!1),s=_(e.movieData.imdbRating,!0),o=_(e.movieData.rottenTomatoesRating,!1),i=Object(r.useState)("none"),l=Object(b.a)(i,2),u=l[0],j=l[1],d=n.a.useState(!1),p=Object(b.a)(d,2),m=p[0],h=p[1],g=function(){h(!0)};return Object(R.jsx)(I.a,{className:t.root,variant:"outlined",style:{maxWidth:"450px",margin:"auto"},children:Object(R.jsxs)(U.a,{style:{position:"relative"},onMouseEnter:function(){return j("block")},onMouseLeave:function(){return j("none")},children:[!e.browsing&&Object(R.jsx)(D.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",style:{position:"absolute",top:-5,right:-5,display:u},onClick:function(){return e.deleteMovie(e.movieData.title)},children:Object(R.jsx)(F.a,{})}),Object(R.jsxs)(O.a,{container:!0,spacing:4,children:[Object(R.jsxs)(O.a,{item:!0,xs:8,children:[Object(R.jsxs)(A.a,{href:"#",onClick:function(e){e.preventDefault(),g()},color:"inherit",children:[Object(R.jsx)(L.a,{variant:"h6",component:"h2",children:e.movieData.title}),Object(R.jsx)(L.a,{className:t.pos,color:"textSecondary",children:Object.values(e.movieData.metadata).join(" \u2027 ")})]}),Object(R.jsxs)(O.a,{container:!0,spacing:2,style:{marginTop:"1.5em"},children:[Object(R.jsx)(O.a,{item:!0,xs:4,style:{textAlign:"center"},children:e.movieData.googleUsersPercent>0?Object(R.jsxs)("span",{style:{color:c},children:[e.movieData.googleUsersPercent,"%",Object(R.jsx)("br",{}),"Google Users"]}):Object(R.jsxs)("span",{children:["N/A ",Object(R.jsx)("br",{})," Google Users"]})}),Object(R.jsx)(O.a,{item:!0,xs:4,style:{textAlign:"center"},children:Object(R.jsxs)("span",{style:{color:s},children:[e.movieData.imdbRating,"/10",Object(R.jsx)("br",{}),"IMDb"]})}),Object(R.jsx)(O.a,{item:!0,xs:4,style:{textAlign:"center"},children:Object(R.jsxs)("span",{style:{color:o},children:[e.movieData.rottenTomatoesRating,"%",Object(R.jsx)("br",{}),"Rotten Tomatoes"]})})]})]}),Object(R.jsx)(O.a,{item:!0,xs:4,children:Object(R.jsxs)("div",{children:[Object(R.jsx)(A.a,{href:"#",onClick:function(e){e.preventDefault(),g()},color:"inherit",children:Object(R.jsx)("img",{src:a,alt:"new",width:107.2,height:160,style:{height:"100%"}})}),Object(R.jsx)(Z,{open:m,onClose:function(e){h(!1)},movieData:e.movieData})]})})]})]})})}var V=a(29),X=a(12),Y=a(174),K=a(175),Q=a(195),$=a(176),ee=a(177),te=a(85),ae=a(80),re=a.n(ae),ne=a(79),ce=a.n(ne),se=a(82),oe=a.n(se),ie=a(81),le=a.n(ie),ue=Object(j.a)((function(e){return{grow:{flexGrow:1},menuButton:Object(V.a)({marginRight:"0.25em",marginBottom:"0.25em",display:"none"},e.breakpoints.up("sm"),{display:"block"}),title:Object(V.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(V.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(X.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(X.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(V.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(V.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(V.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function be(e){var t=Object(r.useState)(""),a=Object(b.a)(t,2),c=a[0],s=a[1],o=ue(),i=n.a.useState(null),l=Object(b.a)(i,2),u=l[0],j=l[1],d=n.a.useState(null),p=Object(b.a)(d,2),m=p[0],h=p[1],g=Boolean(u),x=Boolean(m),O=function(){h(null)},f=function(){j(null),O()},v=Object(R.jsxs)(te.a,{anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:f,children:[Object(R.jsx)(k.a,{onClick:f,children:"Profile"}),Object(R.jsx)(k.a,{onClick:f,children:"My account"})]}),y="primary-search-account-menu-mobile",w=Object(R.jsx)(te.a,{anchorEl:m,anchorOrigin:{vertical:"top",horizontal:"right"},id:y,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:x,onClose:O,children:Object(R.jsxs)(k.a,{onClick:function(){return e.setDarkMode(!e.darkMode)},children:[Object(R.jsx)(D.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(R.jsx)(ce.a,{})}),Object(R.jsx)("p",{children:"Toggle Dark Mode"})]})});return Object(R.jsxs)("div",{className:o.grow,children:[Object(R.jsx)(Y.a,{position:"static",children:Object(R.jsxs)(K.a,{children:[Object(R.jsx)("img",{src:"logo.png",height:"25px",width:"25px",className:o.menuButton}),Object(R.jsx)(L.a,{className:o.title,variant:"h6",noWrap:!0,style:{cursor:"default"},children:"MovieFinder"}),Object(R.jsx)("div",{className:o.search,children:Object(R.jsxs)("form",{className:o.root,onSubmit:function(t){return e.addMovie(t,c)},children:[Object(R.jsx)("div",{className:o.searchIcon,children:Object(R.jsx)(re.a,{})}),Object(R.jsx)(Q.a,{placeholder:"Search Movie\u2026",classes:{root:o.inputRoot,input:o.inputInput},onChange:function(e){return s(e.target.value)},inputProps:{"aria-label":"search"}})]})}),Object(R.jsx)(D.a,{color:"inherit",onClick:function(){return e.showFilters(!0)},children:Object(R.jsx)(le.a,{})}),Object(R.jsx)("div",{className:o.grow}),Object(R.jsx)("div",{className:o.sectionDesktop,children:Object(R.jsx)($.a,{control:Object(R.jsx)(ee.a,{checked:e.darkMode,onChange:function(t){return e.setDarkMode(t.target.checked)},color:"default",name:"Dark Mode",inputProps:{"aria-label":"secondary checkbox"}}),label:"Dark Mode",labelPlacement:"start"})}),Object(R.jsx)("div",{className:o.sectionMobile,children:Object(R.jsx)(D.a,{"aria-label":"show more","aria-controls":y,"aria-haspopup":"true",onClick:function(e){h(e.currentTarget)},color:"inherit",children:Object(R.jsx)(oe.a,{})})})]})}),w,v]})}var je=a(182),de=a(180),pe=a(179),me=a(178),he=a(191),ge=a(196),xe=a(181),Oe=a(194),fe=n.a.forwardRef((function(e,t){return Object(R.jsx)(me.a,Object(u.a)({direction:"up",ref:t},e))}));function ve(e){var t=[{value:0,label:"0"},{value:100,label:"100"}],a=Object(r.useState)(e.filters),n=Object(b.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(null),i=Object(b.a)(o,2),l=i[0],j=i[1];return Object(R.jsx)("div",{children:Object(R.jsxs)(W.a,{open:e.open,TransitionComponent:fe,keepMounted:!0,onClose:e.close,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(R.jsx)(D.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",style:{position:"absolute",top:-5,right:-5},onClick:e.close,children:Object(R.jsx)(F.a,{})}),Object(R.jsx)(pe.a,{id:"alert-dialog-slide-title",children:"Filter Settings"}),Object(R.jsxs)(de.a,{children:[Object(R.jsxs)(xe.a,{component:"fieldset",children:[Object(R.jsx)(L.a,{gutterBottom:!0,children:"Sort By"}),Object(R.jsx)(ge.a,{row:!0,"aria-label":"position",name:"position",defaultValue:"top",onChange:function(e){return j(e.target.value)},children:e.sortingCriteria.map((function(e){return Object(R.jsx)($.a,{value:e,control:Object(R.jsx)(he.a,{color:"primary"}),checked:l==e,label:e,labelPlacement:"start"},e)}))})]}),Object(R.jsx)(L.a,{id:"discrete-slider-always0",style:{marginTop:"1em",marginBottom:"1em"},gutterBottom:!0,children:"Filter By"}),Object(R.jsxs)(O.a,{container:!0,spacing:4,style:{marginLeft:"0.5em"},children:[Object(R.jsxs)(O.a,{item:!0,xs:12,sm:12,md:6,children:[Object(R.jsx)(L.a,{id:"discrete-slider-always2",color:"textSecondary",gutterBottom:!0,children:"Google Users Score \u2265"}),Object(R.jsx)(Oe.a,{value:c.gu,"aria-labelledby":"discrete-slider-always2",min:0,max:100,step:1,marks:t,style:{maxWidth:"200px"},valueLabelDisplay:"auto",onChange:function(e,t){return s(Object(u.a)(Object(u.a)({},c),{},{gu:t}))}})]}),Object(R.jsxs)(O.a,{item:!0,xs:12,sm:12,md:6,children:[Object(R.jsx)(L.a,{id:"discrete-slider-always",color:"textSecondary",gutterBottom:!0,children:"IMDb Score \u2265"}),Object(R.jsx)(Oe.a,{value:c.imdb,"aria-labelledby":"discrete-slider-always",min:0,max:10,step:.1,marks:[{value:0,label:"0/10"},{value:10,label:"10/10"}],style:{maxWidth:"200px"},valueLabelDisplay:"auto",onChange:function(e,t){return s(Object(u.a)(Object(u.a)({},c),{},{imdb:t}))}})]}),Object(R.jsxs)(O.a,{item:!0,xs:12,sm:12,md:6,children:[Object(R.jsx)(L.a,{id:"discrete-slider-always1",color:"textSecondary",gutterBottom:!0,children:"Rotten Tomatoes Score \u2265"}),Object(R.jsx)(Oe.a,{value:c.rt,"aria-labelledby":"discrete-slider-always1",min:0,max:100,step:1,marks:t,style:{maxWidth:"200px"},valueLabelDisplay:"auto",onChange:function(e,t){return s(Object(u.a)(Object(u.a)({},c),{},{rt:t}))}})]}),Object(R.jsxs)(O.a,{item:!0,xs:12,sm:12,md:6,children:[Object(R.jsx)(L.a,{id:"discrete-slider-always1",color:"textSecondary",gutterBottom:!0,children:"Duration \u2264 (mins)"}),Object(R.jsx)(Oe.a,{value:c.duration,"aria-labelledby":"discrete-slider-always1",min:0,max:300,step:10,marks:[{value:0,label:"0"},{value:300,label:"300"}],style:{maxWidth:"200px"},valueLabelDisplay:"auto",onChange:function(e,t){return s(Object(u.a)(Object(u.a)({},c),{},{duration:t}))}})]})]}),Object(R.jsx)("br",{})]}),Object(R.jsxs)(je.a,{children:[Object(R.jsx)(h.a,{onClick:function(){s({imdb:0,rt:0,gu:0,duration:240}),j(null)},children:"Reset"}),Object(R.jsx)(h.a,{onClick:function(){e.setFilters(c),e.setSortBy(l),e.close()},children:"Apply"})]})]})})}var ye=Object(j.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},title:{flexGrow:1}}})),we={top:"https://api.themoviedb.org/3/movie/top_rated?api_key=".concat("210fc31dd8bed65f0aaba2bf322a7627","&language=en-US&page=1"),trending:"https://api.themoviedb.org/3/trending/movie/week?api_key=".concat("210fc31dd8bed65f0aaba2bf322a7627"),popular:"https://api.themoviedb.org/3/movie/popular?api_key=".concat("210fc31dd8bed65f0aaba2bf322a7627","&language=en-US&page=1")};var ke=function(){var e=JSON.parse(localStorage.getItem("movieData")),t=JSON.parse(localStorage.getItem("trending")),a=Object(r.useState)(e||{}),n=Object(b.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(e||[]),j=Object(b.a)(o,2),v=j[0],S=j[1],D=Object(r.useState)(t||{}),C=Object(b.a)(D,2),M=C[0],N=C[1],P=Object(r.useState)("trending"),I=Object(b.a)(P,2),U=I[0],A=I[1],E=Object(r.useState)(!1),F=Object(b.a)(E,2),L=F[0],W=F[1],q=Object(r.useState)(!1),G=Object(b.a)(q,2),z=G[0],Z=G[1],J=Object(r.useState)([]),_=Object(b.a)(J,2),V=_[0],X=_[1],Y=Object(r.useState)(!1),K=Object(b.a)(Y,2),Q=K[0],$=K[1],ee=Object(r.useState)("none"),te=Object(b.a)(ee,2),ae=te[0],re=te[1],ne=Object(r.useState)({imdb:0,rt:0,gu:0,duration:240}),ce=Object(b.a)(ne,2),se=ce[0],oe=ce[1],ie=Object(r.useState)(!1),le=Object(b.a)(ie,2),ue=le[0],je=le[1],de=ye(),pe=z?"dark":"light",me=Object(d.a)({palette:{type:pe}});Object(r.useEffect)((function(){localStorage.setItem("movieData",JSON.stringify(c))}),[c]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem(U))||{};N(e),ge(e)}),[U]),Object(r.useEffect)((function(){ge(L?M:c)}),[ae,se,L]);var he=function(e){var t=Object(u.a)({},c);delete t[e],s(t),ge(t)},ge=function(e){var t=Object.values(e),a=JSON.parse(JSON.stringify(t)),r=null;"IMDB"===ae?r=function(e,t){return t.imdbRating-e.imdbRating}:"Google Users"===ae?r=function(e,t){return t.googleUsersPercent-e.googleUsersPercent}:"Rotten Tomatoes"===ae&&(r=function(e,t){return t.rottenTomatoesRating-e.rottenTomatoesRating}),r?a.sort(r):a.reverse(),a=a.filter((function(e){return e.imdbRating>=se.imdb&&e.rottenTomatoesRating>=se.rt&&e.googleUsersPercent>=se.gu&&e.durationMins<=se.duration})),S(a)},xe=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),e.next=3,fetch(we[U]);case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.next=9,Oe(a);case 9:a=e.sent,N(a),ge(a),localStorage.setItem(U,JSON.stringify(a)),$(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},r=0;case 2:if(!(r<20)){e.next=15;break}if(t.results[r].title in M){e.next=11;break}return n="https://image.tmdb.org/t/p/w500/".concat(t.results[r].poster_path),e.next=7,fe(t.results[r].title,n);case 7:(c=e.sent)&&(a[t.results[r].title]=c),e.next=12;break;case 11:a[t.results[r].title]=M[t.results[r].title];case 12:r++,e.next=2;break;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r,n,c,s,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new DOMParser,n="https://www.google.com/search?q="+encodeURIComponent(t).replace(/%20/g,"+"),e.next=4,fetch(n);case 4:return c=e.sent,e.next=7,c.text();case 7:return s=e.sent,o=r.parseFromString(s,"text/html"),e.next=11,ke(o,t,a);case 11:return l=e.sent,e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ke=function(){var e=Object(l.a)(i.a.mark((function e(t,a,r){var n,c,s,o,l,u,j,d,p,m,h,g,x,O,f,v,y,w;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.getElementsByClassName("srBp4 Vrkhme").length>0?t.getElementsByClassName("srBp4 Vrkhme")[0].childNodes[0].data:null,c=t.querySelectorAll("span.gsrt")[0].innerHTML,s=t.querySelectorAll("span.gsrt")[1].innerHTML,o=(t.getElementsByClassName("wx62f PZPZlf x7XAkb")[0]||t.querySelectorAll("div.wwUB2c.PZPZlf span")[0]).outerText.split("\u2027"),l=(t.querySelectorAll("span.u9DLmf")[0]||t.querySelectorAll("h2.qrShPb.kno-ecr-pt.PZPZlf.mfMhoc span")[0]).innerHTML.replace("&amp;","&"),null!=(r=r||(t.querySelectorAll("g-img.ivg-i.PZPZlf").length>0?t.querySelectorAll("g-img.ivg-i.PZPZlf")[0].getAttribute("data-lpage"):null))){e.next=16;break}return u=encodeURIComponent(a).replace(/%20/g,"+"),e.next=11,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("210fc31dd8bed65f0aaba2bf322a7627","&language=en-US&query=").concat(u,"&page=1&include_adult=false"));case 11:return j=e.sent,e.next=14,j.json();case 14:(d=e.sent).results.length>0&&d.results[0].title===l&&(r="https://image.tmdb.org/t/p/w500/".concat(d.results[0].poster_path));case 16:return c=parseFloat(c.slice(0,3)),s=parseInt(s.slice(0,3)),p=n?parseInt(n.slice(0,2)):0,m=o.shift().split(" ").slice(0,2),h=Object(b.a)(m,2),g=h[0],x=h[1],O=o,f=Object(b.a)(O,2),v=f[0],y=f[1],v=v.trim(),y=y.trim(),w=60*parseInt(y[0])+parseInt(y.split(" ")[1].slice(0,-1)),o={rating:g,year:x,genre:v,duration:y},e.abrupt("return",{googleUsersRating:n,googleUsersPercent:p,imdbRating:c,rottenTomatoesRating:s,metadata:o,durationMins:w,title:l,imageUrl:r});case 28:return e.prev=28,e.t0=e.catch(0),console.error(e.t0),X(a),e.abrupt("return",null);case 33:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t,a,r){return e.apply(this,arguments)}}();return Object(R.jsxs)(p.a,{theme:me,children:[Object(R.jsx)(x.a,{}),Object(R.jsx)(be,{addMovie:function(e,t){e.preventDefault(),fe(t,null).then((function(e){if(e&&!c[e.title]){var t=e.title,a=Object(u.a)({},c);a[t]=e,s(a),ge(a)}}))},darkMode:z,setDarkMode:Z,showFilters:je}),Object(R.jsxs)(g.a,{maxWidth:"xl",children:[Object(R.jsxs)(m.a,{width:"85%",style:{margin:"auto"},children:[Object(R.jsx)("div",{className:de.root,children:Object(R.jsx)(T,{browsing:L,setBrowsing:W})}),L&&Object(R.jsxs)(m.a,{style:{textAlign:"center"},children:[Object(R.jsx)(h.a,{onClick:xe,color:"primary",disabled:Q,style:{float:"left"},children:Object(R.jsx)(y.a,{})}),Object(R.jsxs)(w.a,{value:U,onChange:function(e){return A(e.target.value)},displayEmpty:!0,className:de.selectEmpty,inputProps:{"aria-label":"Without label"},children:[Object(R.jsx)(k.a,{value:"trending",children:"Trending"}),Object(R.jsx)(k.a,{value:"popular",children:"Popular (TMDb)"}),Object(R.jsx)(k.a,{value:"top",children:"Top Rated"})]})]}),Q&&Object(R.jsx)(m.a,{style:{textAlign:"center",marginTop:"2em"},children:Object(R.jsx)(f.a,{size:50})}),Object(R.jsx)(O.a,{container:!0,spacing:4,children:v[0]&&v.map((function(e){return Object(R.jsx)(O.a,{item:!0,sm:12,md:6,lg:4,children:Object(R.jsx)(H,{movieData:e,deleteMovie:he,browsing:L})},e.title)}))}),Object(R.jsx)(B,{errors:V})]}),Object(R.jsx)(ve,{open:ue,close:function(){return je(!1)},filters:se,setFilters:oe,sortingCriteria:["Search Order","Google Users","IMDB","Rotten Tomatoes"],sortBy:ae,setSortBy:re})]})]})},Se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,199)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};s.a.render(Object(R.jsx)(n.a.StrictMode,{children:Object(R.jsx)(ke,{})}),document.getElementById("root")),Se()}},[[117,1,2]]]);
//# sourceMappingURL=main.e095c373.chunk.js.map